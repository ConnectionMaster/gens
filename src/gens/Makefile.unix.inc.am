# Linux-specific Makefile.am

if GENS_UI_GTK
INCLUDES += -I@srcdir@/ui/gtk/
endif

gens_SOURCES += \
		emulator/g_main_unix.cpp \
		port/ini_old.c \
		port/timer.c \
		video/vdraw_sdl.c \
		input/input_sdl.c \
		input/input_sdl_events.cpp \
		input/input_sdl_key_names.c \
		audio/audio_sdl.c

if GENS_CDROM
if GENS_OS_LINUX
gens_SOURCES += \
                segacd/cd_aspi_linux.cpp
endif # GENS_OS_LINUX
endif # GENS_CDROM

if GENS_UI_GTK

gens_SOURCES += \
		ui/gtk/gens_ui_gtk.cpp \
		ui/gtk/gtk-misc.c \
		ui/gtk/gtk-uri.c \
		ui/gtk/gens/gens_window.cpp \
		ui/gtk/gens/gens_window_callbacks.cpp \
		ui/gtk/gens/gens_window_sync.cpp \
		ui/gtk/controller_config/cc_window.c \
		ui/gtk/bios_misc_files/bios_misc_files_window.cpp \
		ui/gtk/bios_misc_files/bios_misc_files_window_callbacks.c \
		ui/gtk/bios_misc_files/bios_misc_files_window_misc.cpp \
		ui/gtk/directory_config/directory_config_window.c \
		ui/gtk/directory_config/directory_config_window_callbacks.c \
		ui/gtk/directory_config/directory_config_window_misc.cpp \
		ui/gtk/general_options/general_options_window.cpp \
		ui/gtk/color_adjust/color_adjust_window.c \
		ui/gtk/color_adjust/color_adjust_window_callbacks.c \
		ui/gtk/color_adjust/color_adjust_window_misc.c \
		ui/gtk/country_code/country_code_window.c \
		ui/gtk/country_code/country_code_window_callbacks.c \
		ui/gtk/country_code/country_code_window_misc.c \
		ui/gtk/zip_select/zip_select_dialog.cpp \
		ui/gtk/plugin_manager/plugin_manager_window.cpp \
		ui/gtk/wndbase.cpp \
		ui/gtk/about/about_window.cpp

if GENS_OPENGL
gens_SOURCES += \
		video/vdraw_sdl_gl.c \
		ui/gtk/opengl_resolution/glres_window.cpp
endif # GENS_OPENGL

if GENS_CDROM
gens_SOURCES += \
		ui/gtk/select_cdrom/select_cdrom_window.c \
		ui/gtk/select_cdrom/select_cdrom_window_callbacks.c \
		ui/gtk/select_cdrom/select_cdrom_window_misc.cpp
endif # GENS_CDROM

endif # GENS_UI_GTK

noinst_HEADERS += \
		emulator/g_main_unix.hpp \
		port/ini_old.h \
		port/timer.h \
		video/vdraw_sdl.h \
		input/input_sdl.h \
		input/input_sdl_events.hpp \
		input/input_sdl_keys.h \
		input/input_sdl_key_names.h \
		input/input_sdl_joystate.h \
		audio/audio_sdl.h

if GENS_CDROM
noinst_HEADERS += \
                segacd/cd_aspi.hpp \
		segacd/aspi.h
endif

if GENS_UI_GTK

noinst_HEADERS += \
		ui/gtk/gtk-misc.h \
		ui/gtk/gtk-uri.h \
		ui/gtk/gens/gens_window.hpp \
		ui/gtk/gens/gens_window_callbacks.hpp \
		ui/gtk/gens/gens_window_sync.hpp \
		ui/gtk/controller_config/cc_window.h \
		ui/gtk/bios_misc_files/bios_misc_files_window.hpp \
		ui/gtk/bios_misc_files/bios_misc_files_window_callbacks.h \
		ui/gtk/bios_misc_files/bios_misc_files_window_misc.hpp \
		ui/gtk/directory_config/directory_config_window.h \
		ui/gtk/directory_config/directory_config_window_callbacks.h \
		ui/gtk/directory_config/directory_config_window_misc.hpp \
		ui/gtk/general_options/general_options_window.hpp \
		ui/gtk/color_adjust/color_adjust_window.h \
		ui/gtk/color_adjust/color_adjust_window_callbacks.h \
		ui/gtk/color_adjust/color_adjust_window_misc.h \
		ui/gtk/country_code/country_code_window.h \
		ui/gtk/country_code/country_code_window_callbacks.h \
		ui/gtk/country_code/country_code_window_misc.h \
		ui/gtk/zip_select/zip_select_dialog.hpp \
		ui/gtk/plugin_manager/plugin_manager_window.hpp \
		ui/gtk/wndbase.hpp \
		ui/gtk/about/about_window.hpp

if GENS_OPENGL
noinst_HEADERS += \
		video/vdraw_sdl_gl.h \
		ui/gtk/opengl_resolution/glres_window.hpp
endif # GENS_OPENGL

if GENS_CDROM
noinst_HEADERS += \
		ui/gtk/select_cdrom/select_cdrom_window.h \
		ui/gtk/select_cdrom/select_cdrom_window_callbacks.h \
		ui/gtk/select_cdrom/select_cdrom_window_misc.hpp
endif # GENS_CDROM

endif # GENS_UI_GTK

gens_CFLAGS += \
		-DGENS_DATADIR=\"@datadir@/@PACKAGE@\" \
		-DGENS_MDP_DIR=\"@libdir@\" \
		@SDL_CFLAGS@

if GENS_UI_GTK
gens_CFLAGS += @GTK_CFLAGS@
endif

gens_CXXFLAGS += \
		-DGENS_DATADIR=\"@datadir@/@PACKAGE@\" \
		-DGENS_MDP_DIR=\"@libdir@\" \
		@SDL_CFLAGS@

if GENS_UI_GTK
gens_CXXFLAGS += @GTK_CFLAGS@
endif

gens_LDADD += @SDL_LIBS@

if GENS_UI_GTK
gens_LDADD += @GTK_LIBS@
endif
